/**
 * Skipped minification because the original files appears to be already minified.
 * Original file: /npm/@datarose/scrollreveal@1.3.0/dist/scrollreveal.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
/**
 * Datarose Production - @package @datarose/scrollreveal
 *
 * @version v1.3.0
 * @author Rózsa Zoltán
 * @since 2022 - All rights reserved!
 */

var i=null,x=null,y={origin:"bottom",distance:"20px",duration:500,delay:0,rotate:{x:0,y:0,z:0},opacity:0,scale:.9,easing:"cubic-bezier(0.6, 0.2, 0.1, 1)",container:window.document.documentElement,mobile:!0,reset:!1,useDelay:"always",viewFactor:.2,viewOffset:{top:0,right:0,bottom:0,left:0},beforeReveal:e=>{},beforeReset:e=>{},afterReveal:e=>{},afterReset:e=>{}};const I={isObject:function(e){return e!==null&&typeof e=="object"&&e.constructor===Object},isNode:function(e){return typeof window.Node=="object"?e instanceof window.Node:e&&typeof e=="object"&&typeof e.nodeType=="number"&&typeof e.nodeName=="string"},isNodeList:function(e){var t=Object.prototype.toString.call(e),n=/^\[object (HTMLCollection|NodeList|Object)\]$/;return typeof window.NodeList=="object"?e instanceof window.NodeList:e&&typeof e=="object"&&n.test(t)&&typeof e.length=="number"&&(e.length===0||this.isNode(e[0]))},forOwn:function(e,t){if(this.isObject(e))for(var n in e)e.hasOwnProperty(n)&&t(n);else throw new TypeError('Expected "object", but received "'+typeof e+'".')},extend:function(e,t){return this.forOwn(t,function(n){this.isObject(t[n])?((!e[n]||!this.isObject(e[n]))&&(e[n]={}),this.extend(e[n],t[n])):e[n]=t[n]}.bind(this)),e},extendClone:function(e,t){return this.extend(this.extend({},e),t)},isMobile:function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}},C={version:"1.3.0",defaults:y,store:{elements:{},containers:[]},sequences:{},history:[],uid:0,initialized:!1,tools:I,constructor:function(e=null){return i=this,i.isSupported()?(typeof i.defaults>"u"&&(i.defaults=y),i.tools.extend(i.defaults,e||{}),i.defaults.container=w(i.defaults),i.store={elements:{},containers:[]},i.sequences={},i.history=[],i.uid=0,i.initialized=!1):typeof console<"u"&&console!==null&&console.error("@datarose/scrollreveal is not supported in this browser."),i},isSupported:function(){var e=document.documentElement.style;return"WebkitTransition"in e&&"WebkitTransform"in e||"transition"in e&&"transform"in e},reveal:function(e,t,n,o){var s,a,r,f,l,u;if(t!==void 0&&typeof t=="number"?(n=t,t={}):t==null&&(t={}),s=w(t),a=F(e,s),!a.length)return console.log('DataroseScrollReveal: reveal on "'+e+'" failed, no elements found.'),i;n&&typeof n=="number"&&(u=g(),l=i.sequences[u]={id:u,interval:n,elemIds:[],active:!1});for(var d=0;d<a.length;d++)f=a[d].getAttribute("data-sr-id"),f?r=i.store.elements[f]:(r={id:g(),domEl:a[d],seen:!1,revealing:!1},r.domEl.setAttribute("data-sr-id",r.id)),l&&(r.sequence={id:l.id,index:l.elemIds.length},l.elemIds.push(r.id)),M(r,t,s),P(r),W(r),i.tools.isMobile()&&!r.config.mobile||!i.isSupported()?(r.domEl.setAttribute("style",r.styles.inline),r.disabled=!0):r.revealing||r.domEl.setAttribute("style",r.styles.inline+r.styles.transform.initial);return!o&&i.isSupported()&&(B(e,t,n),i.initTimeout&&window.clearTimeout(i.initTimeout),i.initTimeout=window.setTimeout(b,0)),i},sync:function(){if(i.history.length&&i.isSupported()){for(var e=0;e<i.history.length;e++){var t=i.history[e];i.reveal(t.target,t.config,t.interval,!0)}b()}else console.error("@datarose/scrollreveal: sync failed, no reveals found.");return i}};function w(e){if(e&&e.container){if(typeof e.container=="string")return window.document.documentElement.querySelector(e.container);if(i.tools.isNode(e.container))return e.container;console.log('DataroseScrollReveal: invalid container "'+e.container+'" provided.'),console.log("DataroseScrollReveal: falling back to default container.")}return i.defaults.container}function F(e,t){return typeof e=="string"?Array.prototype.slice.call(t.querySelectorAll(e)):i.tools.isNode(e)?[e]:i.tools.isNodeList(e)?Array.prototype.slice.call(e):Array.isArray(e)?e.filter(i.tools.isNode):[]}function g(){return++i.uid}function M(e,t,n){t.container&&(t.container=n),e.config?e.config=i.tools.extendClone(e.config,t):e.config=i.tools.extendClone(i.defaults,t),e.config.origin==="top"||e.config.origin==="bottom"?e.config.axis="Y":e.config.axis="X"}function P(e){var t=window.getComputedStyle(e.domEl);e.styles||(e.styles={transition:{},transform:{},computed:{}},e.styles.inline=e.domEl.getAttribute("style")||"",e.styles.inline+="; visibility: visible; ",e.styles.computed.opacity=t.opacity,!t.transition||t.transition==="all 0s ease 0s"?e.styles.computed.transition="":e.styles.computed.transition=t.transition+", "),e.styles.transition.instant=p(e,0),e.styles.transition.delayed=p(e,e.config.delay),e.styles.transform.initial=" -webkit-transform:",e.styles.transform.target=" -webkit-transform:",h(e),e.styles.transform.initial+="transform:",e.styles.transform.target+="transform:",h(e)}function p(e,t){var n=e.config;return"-webkit-transition: "+e.styles.computed.transition+"-webkit-transform "+n.duration/1e3+"s "+n.easing+" "+t/1e3+"s, opacity "+n.duration/1e3+"s "+n.easing+" "+t/1e3+"s; transition: "+e.styles.computed.transition+"transform "+n.duration/1e3+"s "+n.easing+" "+t/1e3+"s, opacity "+n.duration/1e3+"s "+n.easing+" "+t/1e3+"s; "}function h(e){var t=e.config,n,o=e.styles.transform;t.origin==="top"||t.origin==="left"?n=/^-/.test(t.distance)?t.distance.substr(1):"-"+t.distance:n=t.distance,parseInt(t.distance)&&(o.initial+=" translate"+t.axis+"("+n+")",o.target+=" translate"+t.axis+"(0)"),t.scale&&(o.initial+=" scale("+t.scale+")",o.target+=" scale(1)"),t.rotate.x&&(o.initial+=" rotateX("+t.rotate.x+"deg)",o.target+=" rotateX(0)"),t.rotate.y&&(o.initial+=" rotateY("+t.rotate.y+"deg)",o.target+=" rotateY(0)"),t.rotate.z&&(o.initial+=" rotateZ("+t.rotate.z+"deg)",o.target+=" rotateZ(0)"),o.initial+="; opacity: "+t.opacity+";",o.target+="; opacity: "+e.styles.computed.opacity+";"}function W(e){var t=e.config.container;t&&i.store.containers.indexOf(t)===-1&&i.store.containers.push(e.config.container),i.store.elements[e.id]=e}function B(e,t,n){var o={target:e,config:t,interval:n};i.history.push(o)}function b(){if(i.isSupported()){S();for(var e=0;e<i.store.containers.length;e++)i.store.containers[e].addEventListener("scroll",c),i.store.containers[e].addEventListener("resize",c);i.initialized||(window.addEventListener("scroll",c),window.addEventListener("resize",c),i.initialized=!0)}return i}function c(){x(S)}function H(){var e,t,n,o;i.tools.forOwn(i.sequences,s=>{o=i.sequences[s],e=!1;for(var a=0;a<o.elemIds.length;a++)n=o.elemIds[a],t=i.store.elements[n],v(t)&&!e&&(e=!0);o.active=e})}function S(){var e,t;H(),i.tools.forOwn(i.store.elements,n=>{t=i.store.elements[n],e=U(t),Y(t)?(t.config.beforeReveal(t.domEl),e?t.domEl.setAttribute("style",t.styles.inline+t.styles.transform.target+t.styles.transition.delayed):t.domEl.setAttribute("style",t.styles.inline+t.styles.transform.target+t.styles.transition.instant),m("reveal",t,e),t.revealing=!0,t.seen=!0,t.sequence&&X(t,e)):Z(t)&&(t.config.beforeReset(t.domEl),t.domEl.setAttribute("style",t.styles.inline+t.styles.transform.initial+t.styles.transition.instant),m("reset",t),t.revealing=!1)})}function X(e,t){var n=0,o=0,s=i.sequences[e.sequence.id];s.blocked=!0,t&&e.config.useDelay==="onload"&&(o=e.config.delay),e.sequence.timer&&(n=Math.abs(e.sequence.timer.started-Number(new Date)),window.clearTimeout(e.sequence.timer)),e.sequence.timer={started:new Date},e.sequence.timer.clock=window.setTimeout(function(){s.blocked=!1,e.sequence.timer=null,c()},Math.abs(s.interval)+o-n)}function m(e,t,n=!1){var o=0,s=0,a="after";switch(e){case"reveal":s=t.config.duration,n&&(s+=t.config.delay),a+="Reveal";break;case"reset":s=t.config.duration,a+="Reset";break}t.timer&&(o=Math.abs(t.timer.started-Number(new Date)),window.clearTimeout(t.timer.clock)),t.timer={started:new Date},t.timer.clock=window.setTimeout(function(){t.config[a](t.domEl),t.timer=null},s-o)}function Y(e){if(e.sequence){var t=i.sequences[e.sequence.id];return t.active&&!t.blocked&&!e.revealing&&!e.disabled}return v(e)&&!e.revealing&&!e.disabled}function U(e){var t=e.config.useDelay;return t==="always"||t==="onload"&&!i.initialized||t==="once"&&!e.seen}function Z(e){if(e.sequence){var t=i.sequences[e.sequence.id];return!t.active&&e.config.reset&&e.revealing&&!e.disabled}return!v(e)&&e.config.reset&&e.revealing&&!e.disabled}function V(e){return{width:e.clientWidth,height:e.clientHeight}}function $(e){if(e&&e!==window.document.documentElement){var t=O(e);return{x:e.scrollLeft+t.left,y:e.scrollTop+t.top}}else return{x:window.pageXOffset,y:window.pageYOffset}}function O(e){let t=0,n=0,o=0,s=0;if(e!==null){o=e.offsetHeight,s=e.offsetWidth;do isNaN(e.offsetTop)||(t+=e.offsetTop),isNaN(e.offsetLeft)||(n+=e.offsetLeft),e=e.offsetParent;while(e)}return{top:t,left:n,height:o,width:s}}function v(e){var t=O(e.domEl),n=V(e.config.container),o=$(e.config.container),s=e.config.viewFactor,a=t.height,r=t.width,f=t.top,l=t.left,u=f+a,d=l+r;return T()||R();function T(){var _=f+a*s,E=l+r*s,A=u-a*s,N=d-r*s,k=o.y+e.config.viewOffset.top,L=o.x+e.config.viewOffset.left,D=o.y-e.config.viewOffset.bottom+n.height,z=o.x-e.config.viewOffset.right+n.width;return _<D&&A>k&&E<z&&N>L}function R(){return window.getComputedStyle(e.domEl).position==="fixed"}}x=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)};function q(e=null){return C.constructor(e)}typeof module<"u"&&module.exports?module.exports=q:window.DataroseScrollReveal=q;export{q as DataroseScrollReveal,q as default};
